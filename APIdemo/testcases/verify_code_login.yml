
config:
    name: web端验证码登录 testcase/verify_code_login.yml
    variables:


teststeps:
-
    name: 获取验证码 /api/account/GET_verify-code.yml
    api: /api/account/GET_verify-code.yml
    variables:
        phoneNum: ${ENV(phoneNum)}
    extract:
        - token: content.token
    validate:
        - eq: ["status_code", 200]
-
    name: 用户登录 api/auth/POST_login.yml
    api: api/auth/POST_login.yml
    variables:
        endpoint: ${ENV(endpoint)}
        grantType: ${ENV(grantType)}
        phoneNum: ${ENV(phoneNum)}
        productCode: ${ENV(productCode)}
        transactionNo: ${ENV(transactionNo)}
        verifyCode: ${ENV(verifyCode)}
    extract:
        accesstoken: content.access_token
    validate:
        - eq: ["status_code", 200]

